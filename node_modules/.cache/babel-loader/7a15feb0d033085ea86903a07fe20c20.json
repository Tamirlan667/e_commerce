{"ast":null,"code":"import { ref } from \"@vue/reactivity\";\nimport { watch } from \"@vue/runtime-core\";\nimport CountDownTimer from \"./CountDownTimer.vue\";\nimport BaseHeading from \"./UI/BaseHeading.vue\";\nimport FadeTransition from \"./UI/FadeTransition.vue\";\nimport Loader from \"./UI/Loader.vue\";\nexport default {\n  __name: 'FailedHttpRequest',\n  props: {\n    errorMessage: {\n      type: String,\n      required: true\n    },\n    errorCode: {\n      type: Number,\n      required: false\n    },\n    timeout: {\n      type: Number,\n      required: true\n    },\n    serverIsDown: {\n      type: Boolean,\n      required: true\n    },\n    serverErrorMessage: {\n      type: [null, String],\n      required: true\n    }\n  },\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const props = __props;\n    const isFetching = ref(false);\n\n    const onFetchRequest = () => {\n      isFetching.value = true;\n    };\n\n    watch(() => props.timeout, () => {\n      isFetching.value = false;\n    }, {\n      immediate: true\n    });\n    const __returned__ = {\n      props,\n      isFetching,\n      onFetchRequest,\n      ref,\n      watch,\n      CountDownTimer,\n      BaseHeading,\n      FadeTransition,\n      Loader\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AA2BA,SAASA,GAAT,QAAoB,iBAApB;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyBA,MAAMC,UAAU,GAAGN,GAAG,CAAC,KAAD,CAAtB;;IAEA,MAAMO,cAAc,GAAG,MAAM;MAC3BD,UAAU,CAACE,KAAX,GAAmB,IAAnB;IACD,CAFD;;IAIAP,KAAK,CACH,MAAMQ,KAAK,CAACC,OADT,EAEH,MAAM;MACJJ,UAAU,CAACE,KAAX,GAAmB,KAAnB;IACD,CAJE,EAKH;MAAEG,SAAS,EAAE;IAAb,CALG,CAAL","names":["ref","watch","CountDownTimer","BaseHeading","FadeTransition","Loader","isFetching","onFetchRequest","value","props","timeout","immediate"],"sources":["/Users/tamirlankarimov/Desktop/Vue_Project_ecommerce/e-commerce-app/src/components/FailedHttpRequest.vue"],"sourcesContent":["<template>\n  <div class=\"failed-http-request\">\n    <FadeTransition :duration=\"2\">\n      <BaseHeading variant=\"h2\" v-if=\"serverIsDown\">{{\n        serverErrorMessage\n      }}</BaseHeading>\n    </FadeTransition>\n\n    <div class=\"failed-http-request__timer\" v-if=\"!isFetching\">\n      <base-heading variant=\"h3\">{{ errorMessage }}</base-heading>\n      <CountDownTimer :timeout=\"timeout\" @onTimerEnd=\"onFetchRequest\" />\n      <span class=\"failed-http-request__status\"\n        >Error code: <strong>{{ errorCode }}</strong></span\n      >\n    </div>\n\n    <div\n      v-if=\"isFetching && !serverIsDown\"\n      class=\"failed-http-request__sending-request\"\n    >\n      <base-heading variant=\"h3\">Sending new request...</base-heading>\n      <Loader />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"@vue/reactivity\";\nimport { watch } from \"@vue/runtime-core\";\nimport CountDownTimer from \"./CountDownTimer.vue\";\nimport BaseHeading from \"./UI/BaseHeading.vue\";\nimport FadeTransition from \"./UI/FadeTransition.vue\";\nimport Loader from \"./UI/Loader.vue\";\n\nconst props = defineProps({\n  errorMessage: {\n    type: String,\n    required: true,\n  },\n  errorCode: {\n    type: Number,\n    required: false,\n  },\n  timeout: {\n    type: Number,\n    required: true,\n  },\n  serverIsDown: {\n    type: Boolean,\n    required: true,\n  },\n  serverErrorMessage: {\n    type: [null, String],\n    required: true,\n  },\n});\n\nconst isFetching = ref(false);\n\nconst onFetchRequest = () => {\n  isFetching.value = true;\n};\n\nwatch(\n  () => props.timeout,\n  () => {\n    isFetching.value = false;\n  },\n  { immediate: true }\n);\n</script>\n\n<style scoped>\n.failed-http-request {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 40px;\n  position: relative;\n}\n\n.failed-http-request__timer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n\n.failed-http-request__status {\n  font-size: 20px;\n  color: red;\n}\n\n.failed-http-request__sending-request {\n  position: relative;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}