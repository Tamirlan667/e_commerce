{"ast":null,"code":"import BaseHeading from \"@/components/UI/BaseHeading.vue\";\nimport QuantityBlock from \"@/components/UI/QuantityBlock.vue\";\nimport BaseButton from \"@/components/UI/Buttons/BaseButton.vue\";\nimport BaseCard from \"@/components/UI/BaseCard.vue\";\nimport BaseDivider from \"@/components/UI/BaseDivider.vue\";\nimport StarRating from \"@/components/StarRating.vue\";\nimport Loader from \"@/components/UI/Loader.vue\";\nimport BaseIconButton from \"@/components/UI/Buttons/BaseIconButton.vue\";\nimport LikeIcon from \"@/components/icons/LikeIcon.vue\";\nimport FailedHttpRequest from \"@/components/FailedHttpRequest.vue\";\nimport { computed } from \"@vue/runtime-core\";\nimport { useRoute } from \"vue-router\";\nimport { useProductStore } from \"@/store/useProductStore\";\nimport { storeToRefs } from \"pinia\";\nimport { useLikeStore } from \"@/store/useLikeStore\";\nimport { useCartStore } from \"@/store/useCartStore\";\nimport { useCommonStore } from \"@/store/useCommonStore\";\nimport { useQuantity } from \"@/hooks/quantity.js\";\nexport default {\n  __name: 'ProductPage',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const route = useRoute();\n    const [quantity, incrementQuantity, decrementQuantity] = useQuantity();\n    const productStore = useProductStore();\n    const likeStore = useLikeStore();\n    const cartStore = useCartStore();\n    const commonStore = useCommonStore();\n    const {\n      isLoading,\n      error,\n      serverStatus\n    } = storeToRefs(productStore);\n    const product = computed(() => {\n      const thisProduct = productStore.product(route.params.id);\n      return { ...thisProduct,\n        quantity: quantity.value\n      };\n    });\n    const isProductLiked = computed(() => likeStore.likedProduct(product.value.id) !== undefined);\n    const likeBtnText = computed(() => isProductLiked.value ? \"In your wishlist\" : \"Add to wishlist\");\n    const isProductAlreadyInCart = computed(() => cartStore.productInCart(route.params.id) !== undefined);\n    const likeClass = computed(() => [\"product-page__card-like\", isProductLiked.value && \"product-page__card-like_active\"]);\n\n    const openModal = modal => {\n      commonStore.openModal(modal);\n    };\n\n    const like = () => {\n      likeStore.handleLikes(product.value);\n    };\n\n    const addToCart = () => {\n      cartStore.setProductToCart(product.value);\n      openModal(\"cart\");\n    };\n\n    const __returned__ = {\n      route,\n      quantity,\n      incrementQuantity,\n      decrementQuantity,\n      productStore,\n      likeStore,\n      cartStore,\n      commonStore,\n      isLoading,\n      error,\n      serverStatus,\n      product,\n      isProductLiked,\n      likeBtnText,\n      isProductAlreadyInCart,\n      likeClass,\n      openModal,\n      like,\n      addToCart,\n      BaseHeading,\n      QuantityBlock,\n      BaseButton,\n      BaseCard,\n      BaseDivider,\n      StarRating,\n      Loader,\n      BaseIconButton,\n      LikeIcon,\n      FailedHttpRequest,\n      computed,\n      useRoute,\n      useProductStore,\n      storeToRefs,\n      useLikeStore,\n      useCartStore,\n      useCommonStore,\n      useQuantity\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AA+EA,OAAOA,WAAP,MAAwB,iCAAxB;AACA,OAAOC,aAAP,MAA0B,mCAA1B;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,cAAP,MAA2B,4CAA3B;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,iBAAP,MAA8B,oCAA9B;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,WAAT,QAA4B,qBAA5B;;;;;;;;IAEA,MAAMC,KAAK,GAAGP,QAAQ,EAAtB;IACA,MAAM,CAACQ,QAAD,EAAWC,iBAAX,EAA8BC,iBAA9B,IAAmDJ,WAAW,EAApE;IAEA,MAAMK,YAAY,GAAGV,eAAe,EAApC;IACA,MAAMW,SAAS,GAAGT,YAAY,EAA9B;IACA,MAAMU,SAAS,GAAGT,YAAY,EAA9B;IACA,MAAMU,WAAW,GAAGT,cAAc,EAAlC;IACA,MAAM;MAAEU,SAAF;MAAaC,KAAb;MAAoBC;IAApB,IAAqCf,WAAW,CAACS,YAAD,CAAtD;IAEA,MAAMO,OAAO,GAAGnB,QAAQ,CAAC,MAAM;MAC7B,MAAMoB,WAAW,GAAGR,YAAY,CAACO,OAAb,CAAqBX,KAAK,CAACa,MAAN,CAAaC,EAAlC,CAApB;MACA,OAAO,EACL,GAAGF,WADE;QAELX,QAAQ,EAAEA,QAAQ,CAACc;MAFd,CAAP;IAID,CANuB,CAAxB;IAQA,MAAMC,cAAc,GAAGxB,QAAQ,CAC7B,MAAMa,SAAS,CAACY,YAAV,CAAuBN,OAAO,CAACI,KAAR,CAAcD,EAArC,MAA6CI,SADtB,CAA/B;IAIA,MAAMC,WAAW,GAAG3B,QAAQ,CAAC,MAC3BwB,cAAc,CAACD,KAAf,GAAuB,kBAAvB,GAA4C,iBADlB,CAA5B;IAIA,MAAMK,sBAAsB,GAAG5B,QAAQ,CACrC,MAAMc,SAAS,CAACe,aAAV,CAAwBrB,KAAK,CAACa,MAAN,CAAaC,EAArC,MAA6CI,SADd,CAAvC;IAIA,MAAMI,SAAS,GAAG9B,QAAQ,CAAC,MAAM,CAC/B,yBAD+B,EAE/BwB,cAAc,CAACD,KAAf,IAAwB,gCAFO,CAAP,CAA1B;;IAKA,MAAMQ,SAAS,GAAIC,KAAD,IAAW;MAC3BjB,WAAW,CAACgB,SAAZ,CAAsBC,KAAtB;IACD,CAFD;;IAIA,MAAMC,IAAI,GAAG,MAAM;MACjBpB,SAAS,CAACqB,WAAV,CAAsBf,OAAO,CAACI,KAA9B;IACD,CAFD;;IAIA,MAAMY,SAAS,GAAG,MAAM;MACtBrB,SAAS,CAACsB,gBAAV,CAA2BjB,OAAO,CAACI,KAAnC;MACAQ,SAAS,CAAC,MAAD,CAAT;IACD,CAHD","names":["BaseHeading","QuantityBlock","BaseButton","BaseCard","BaseDivider","StarRating","Loader","BaseIconButton","LikeIcon","FailedHttpRequest","computed","useRoute","useProductStore","storeToRefs","useLikeStore","useCartStore","useCommonStore","useQuantity","route","quantity","incrementQuantity","decrementQuantity","productStore","likeStore","cartStore","commonStore","isLoading","error","serverStatus","product","thisProduct","params","id","value","isProductLiked","likedProduct","undefined","likeBtnText","isProductAlreadyInCart","productInCart","likeClass","openModal","modal","like","handleLikes","addToCart","setProductToCart"],"sources":["/Users/tamirlankarimov/Desktop/Vue_Project_ecommerce/e-commerce-app/src/pages/ProductPage.vue"],"sourcesContent":["<template>\n  <FailedHttpRequest\n    :errorCode=\"error.errorCode\"\n    :errorMessage=\"error.message\"\n    :timeout=\"error.timeout\"\n    :serverIsDown=\"serverStatus.isDown\"\n    :serverErrorMessage=\"serverStatus.message\"\n    v-if=\"error?.isError && !isLoading\"\n  />\n\n  <div class=\"product-page\" v-else>\n    <Loader v-if=\"isLoading\" />\n    <BaseCard class=\"product-page__card\" v-else>\n      <img\n        :src=\"product.image\"\n        :alt=\"product.title\"\n        class=\"product-page__card-image\"\n      />\n      <div class=\"product-page__card-content\">\n        <BaseHeading variant=\"h1\" class=\"product-page__card-title\"\n          >{{ product.title }}\n        </BaseHeading>\n\n        <BaseDivider />\n        <div class=\"product-page__card-rating\">\n          <StarRating :rating=\"product.rating.rate\" />\n\n          <BaseIconButton\n            @click=\"like\"\n            variant=\"contained\"\n            :text=\"likeBtnText\"\n            iconColor=\"lightgray\"\n            iconHoverColor=\"#ef2525\"\n            iconActiveColor=\"#ef2525\"\n            :isActive=\"isProductLiked\"\n            opacity=\"0.5\"\n            :class=\"likeClass\"\n          >\n            <LikeIcon />\n          </BaseIconButton>\n        </div>\n        <div class=\"product-page__card-actions\">\n          <BaseHeading variant=\"h2\">${{ product.price }}</BaseHeading>\n          <div class=\"product-page__card-actions-buy\">\n            <QuantityBlock\n              @decrement=\"decrementQuantity\"\n              @increment=\"incrementQuantity\"\n              :quantity=\"quantity\"\n              v-if=\"!isProductAlreadyInCart\"\n            />\n            <BaseButton\n              variant=\"contained\"\n              mode=\"success\"\n              @click=\"addToCart\"\n              v-if=\"!isProductAlreadyInCart\"\n              >Add to cart</BaseButton\n            >\n\n            <BaseButton\n              @click=\"openModal('cart')\"\n              variant=\"contained\"\n              mode=\"success\"\n              v-else\n              >Already is in your Cart</BaseButton\n            >\n          </div>\n        </div>\n        <div class=\"product-page__card-description\">\n          <BaseHeading variant=\"h3\">Description</BaseHeading>\n          <p>\n            {{ product.description }}\n          </p>\n        </div>\n      </div>\n    </BaseCard>\n  </div>\n</template>\n\n<script setup>\nimport BaseHeading from \"@/components/UI/BaseHeading.vue\";\nimport QuantityBlock from \"@/components/UI/QuantityBlock.vue\";\nimport BaseButton from \"@/components/UI/Buttons/BaseButton.vue\";\nimport BaseCard from \"@/components/UI/BaseCard.vue\";\nimport BaseDivider from \"@/components/UI/BaseDivider.vue\";\nimport StarRating from \"@/components/StarRating.vue\";\nimport Loader from \"@/components/UI/Loader.vue\";\nimport BaseIconButton from \"@/components/UI/Buttons/BaseIconButton.vue\";\nimport LikeIcon from \"@/components/icons/LikeIcon.vue\";\nimport FailedHttpRequest from \"@/components/FailedHttpRequest.vue\";\nimport { computed } from \"@vue/runtime-core\";\nimport { useRoute } from \"vue-router\";\nimport { useProductStore } from \"@/store/useProductStore\";\nimport { storeToRefs } from \"pinia\";\nimport { useLikeStore } from \"@/store/useLikeStore\";\nimport { useCartStore } from \"@/store/useCartStore\";\nimport { useCommonStore } from \"@/store/useCommonStore\";\nimport { useQuantity } from \"@/hooks/quantity.js\";\n\nconst route = useRoute();\nconst [quantity, incrementQuantity, decrementQuantity] = useQuantity();\n\nconst productStore = useProductStore();\nconst likeStore = useLikeStore();\nconst cartStore = useCartStore();\nconst commonStore = useCommonStore();\nconst { isLoading, error, serverStatus } = storeToRefs(productStore);\n\nconst product = computed(() => {\n  const thisProduct = productStore.product(route.params.id);\n  return {\n    ...thisProduct,\n    quantity: quantity.value,\n  };\n});\n\nconst isProductLiked = computed(\n  () => likeStore.likedProduct(product.value.id) !== undefined\n);\n\nconst likeBtnText = computed(() =>\n  isProductLiked.value ? \"In your wishlist\" : \"Add to wishlist\"\n);\n\nconst isProductAlreadyInCart = computed(\n  () => cartStore.productInCart(route.params.id) !== undefined\n);\n\nconst likeClass = computed(() => [\n  \"product-page__card-like\",\n  isProductLiked.value && \"product-page__card-like_active\",\n]);\n\nconst openModal = (modal) => {\n  commonStore.openModal(modal);\n};\n\nconst like = () => {\n  likeStore.handleLikes(product.value);\n};\n\nconst addToCart = () => {\n  cartStore.setProductToCart(product.value);\n  openModal(\"cart\");\n};\n</script>\n\n<style scoped>\n.product-page {\n  position: relative;\n}\n.product-page__card {\n  display: grid;\n  gap: 20px;\n}\n\n.product-page__card-title {\n  text-align: left;\n  font-size: 28px;\n  line-height: 34px;\n}\n\n.product-page__card-rating {\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n}\n\n.product-page__card-like {\n  display: flex;\n  align-items: center;\n}\n\n.product-page__card-like_active {\n  color: #ef2525;\n}\n\n.product-page__card-like:hover {\n  color: #ef2525;\n  fill: #ef2525;\n}\n\n.product-page__card-image {\n  display: block;\n  width: 100%;\n}\n\n.product-page__card-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 24px;\n}\n\n.product-page__card-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n}\n\n.product-page__card-actions-buy {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n}\n\n.product-page__card-description {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  text-align: left;\n}\n\n@media screen and (min-width: 768px) {\n  .product-page__card {\n    padding: 30px;\n    grid-template-columns: 1fr 1fr;\n    gap: 24px;\n  }\n\n  .product-page__card-content {\n    align-items: flex-start;\n  }\n\n  .product-page__card-title {\n    font-size: 36px;\n    line-height: 40px;\n  }\n\n  .product-page__card-actions {\n    align-items: flex-start;\n  }\n\n  .product-page__card-actions-buy {\n    flex-direction: row;\n  }\n}\n\n@media screen and (min-width: 1024px) {\n  .product-page__card-image {\n    max-width: 600px;\n    max-height: 600px;\n    object-fit: contain;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}