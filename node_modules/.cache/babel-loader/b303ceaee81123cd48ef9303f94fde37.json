{"ast":null,"code":"import { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, Teleport as _Teleport, resolveDynamicComponent as _resolveDynamicComponent, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-64a4526c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"main\"\n};\nconst _hoisted_2 = {\n  key: 1\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Checkout\");\n\nconst _hoisted_4 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [(_openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [_createVNode($setup[\"BaseModal\"], {\n    isModalOpen: $setup.isCartModalOpen,\n    type: \"cart\",\n    title: \"Your cart\"\n  }, {\n    actions: _withCtx(() => [$setup.isProductsInCart ? (_openBlock(), _createBlock(_component_router_link, {\n      key: 0,\n      to: \"/checkout\"\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"BaseButton\"], {\n        variant: \"contained\",\n        mode: \"success\",\n        onClick: _cache[1] || (_cache[1] = $event => $setup.closeModal('cart'))\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })) : _createCommentVNode(\"v-if\", true)]),\n    default: _withCtx(() => [$setup.isProductsInCart ? (_openBlock(), _createBlock($setup[\"Cart\"], {\n      key: 0,\n      onOnClick: _cache[0] || (_cache[0] = $event => $setup.closeModal('cart'))\n    })) : (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"Your cart is empty\"))]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"isModalOpen\"])])), (_openBlock(), _createBlock(_Teleport, {\n    to: \"body\"\n  }, [_createVNode($setup[\"BaseModal\"], {\n    isModalOpen: $setup.isLikesModalOpen,\n    type: \"likes\",\n    title: \"Your likes\"\n  }, {\n    default: _withCtx(() => [$setup.isLikes ? (_openBlock(), _createBlock($setup[\"Likes\"], {\n      key: 0,\n      onOnClick: _cache[2] || (_cache[2] = $event => $setup.closeModal('likes'))\n    })) : (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"No likes yet\"))]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"isModalOpen\"])])), _createVNode(_component_router_view, null, {\n    default: _withCtx(({\n      Component\n    }) => [_createVNode($setup[\"FadeTransition\"], null, {\n      default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(Component)))]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1024\n    /* DYNAMIC_SLOTS */\n    )]),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":";;;;;EACQA,KAAK,EAAC;;;;;;iDAWC;;;;;;;;;;uBAXbC,oBAkCO,MAlCP,cAkCO,gBAjCLC,aAeWC,SAfX,EAeW;IAfDC,EAAE,EAAC;EAeF,CAfX,EAAmB,CACjBC,aAaYC,mBAbZ,EAaY;IAbAC,WAAW,EAAED,sBAab;IAb8BE,IAAI,EAAC,MAanC;IAb0CC,KAAK,EAAC;EAahD,CAbZ;IAGaC,OAAO,WAChB,MAOc,CAPoBJ,yCAAlCJ,aAOcS,sBAPd,EAOc;YAAA;MAPDP,EAAE,EAAC;IAOF,CAPd;wBACE,MAKC,CALDC,aAKCC,oBALD,EAKC;QAJCM,OAAO,EAAC,WAIT;QAHCC,IAAI,EAAC,SAGN;QAFEC,OAAK,sCAAER,kBAAU,MAAV,CAAF;MAEP,CALD;0BAIG,MAAQ;;;;OAJX,CAKC;;;;KANH,sCAOc,CARE;sBAFlB,MAA8D,CAAlDA,yCAAZJ,aAA8DI,cAA9D,EAA8D;YAAA;MAA/BS,SAAO,sCAAET,kBAAU,MAAV,CAAF;IAAwB,CAA9D,oBACAL,oBAAgC,GAAhC,EAAgCe,UAAhC,EAAU,oBAAV,EAD8D;;;;GADhE;;EAAA,kBADiB,CAAnB,CAiCK,kBAhBLd,aASWC,SATX,EASW;IATDC,EAAE,EAAC;EASF,CATX,EAAmB,CACjBC,aAOYC,mBAPZ,EAOY;IANTC,WAAW,EAAED,uBAMJ;IALVE,IAAI,EAAC,OAKK;IAJVC,KAAK,EAAC;EAII,CAPZ;sBAKE,MAAuD,CAA1CH,gCAAbJ,aAAuDI,eAAvD,EAAuD;YAAA;MAAhCS,SAAO,sCAAET,kBAAU,OAAV,CAAF;IAAyB,CAAvD,oBACAL,oBAA0B,GAA1B,EAA0BgB,UAA1B,EAAU,cAAV,EADuD;;;;GALzD;;EAAA,kBADiB,CAAnB,CAgBK,GALLZ,aAIca,sBAJd,EAIc,IAJd,EAIc;sBAHZ,CAEiB;MAHIC;IAGJ,CAFjB,KAD8B,CAC9Bd,aAEiBC,wBAFjB,EAEiB,IAFjB,EAEiB;wBADf,MAA6B,gBAA7BJ,aAA6BkB,yBAAbD,SAAa,CAA7B,CAA6B,GACd;;;;IAAA,CAFjB;;IAAA,CAD8B,EAIlB;;;;EAAA,CAJd,CAKK,CAlCP","names":["class","_createElementBlock","_createBlock","_Teleport","to","_createVNode","$setup","isModalOpen","type","title","actions","_component_router_link","variant","mode","onClick","onOnClick","_hoisted_2","_hoisted_4","_component_router_view","Component","_resolveDynamicComponent"],"sourceRoot":"","sources":["/Users/tamirlankarimov/Desktop/Vue_Project_ecommerce/e-commerce-app/src/components/TheMain.vue"],"sourcesContent":["<template>\n  <main class=\"main\">\n    <teleport to=\"body\">\n      <BaseModal :isModalOpen=\"isCartModalOpen\" type=\"cart\" title=\"Your cart\">\n        <Cart v-if=\"isProductsInCart\" @onClick=\"closeModal('cart')\" />\n        <p v-else>Your cart is empty</p>\n        <template #actions>\n          <router-link to=\"/checkout\" v-if=\"isProductsInCart\">\n            <BaseButton\n              variant=\"contained\"\n              mode=\"success\"\n              @click=\"closeModal('cart')\"\n              >Checkout</BaseButton\n            >\n          </router-link>\n        </template>\n      </BaseModal>\n    </teleport>\n\n    <teleport to=\"body\">\n      <BaseModal\n        :isModalOpen=\"isLikesModalOpen\"\n        type=\"likes\"\n        title=\"Your likes\"\n      >\n        <Likes v-if=\"isLikes\" @onClick=\"closeModal('likes')\" />\n        <p v-else>No likes yet</p>\n      </BaseModal>\n    </teleport>\n\n    <router-view v-slot=\"{ Component }\">\n      <FadeTransition>\n        <component :is=\"Component\" />\n      </FadeTransition>\n    </router-view>\n  </main>\n</template>\n\n<script setup>\nimport { getFromLocalStorage, setToLocalStorage } from \"@/utils/helpers\";\nimport BaseModal from \"./UI/BaseModal.vue\";\nimport Cart from \"./Cart.vue\";\nimport BaseButton from \"./UI/Buttons/BaseButton.vue\";\nimport Likes from \"./Likes.vue\";\nimport FadeTransition from \"./UI/FadeTransition.vue\";\nimport { computed, onMounted, watch } from \"@vue/runtime-core\";\nimport { useProductStore } from \"@/store/useProductStore\";\nimport { storeToRefs } from \"pinia\";\nimport { useCartStore } from \"@/store/useCartStore\";\nimport { useLikeStore } from \"@/store/useLikeStore\";\nimport { useCommonStore } from \"@/store/useCommonStore\";\n\nconst productStore = useProductStore();\nconst cartStore = useCartStore();\nconst likeStore = useLikeStore();\nconst commonStore = useCommonStore();\n\nconst { products, isProducts } = storeToRefs(productStore);\nconst { isCartModalOpen, isLikesModalOpen } = storeToRefs(commonStore);\nconst { isLikes, likes } = storeToRefs(likeStore);\nconst { isProductsInCart, cart } = storeToRefs(cartStore);\n\nconst closeModal = (modal) => {\n  commonStore.closeModal(modal);\n};\n\nwatch(\n  () => cart.value,\n  () => {\n    setToLocalStorage(\"cart\", cart.value);\n  },\n  { deep: true }\n);\n\nwatch(\n  () => likes.value,\n  () => {\n    setToLocalStorage(\"likes\", likes.value);\n  },\n  { deep: true }\n);\n\nonMounted(() => {\n  const localStorageCart = getFromLocalStorage(\"cart\");\n  const localStorageLikes = getFromLocalStorage(\"likes\");\n\n  if (localStorageCart && !isProductsInCart.value) {\n    cartStore.setProductsFromLStoCart(localStorageCart);\n  }\n\n  if (localStorageLikes && !isLikes.value) {\n    likeStore.setLikesFromLS(localStorageLikes);\n  }\n\n  if (!isProducts.value) {\n    productStore.fetchProducts();\n  }\n});\n</script>\n\n<style scoped>\n.main {\n  padding: 20px 0 40px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}