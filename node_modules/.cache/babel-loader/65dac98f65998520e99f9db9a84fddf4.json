{"ast":null,"code":"import { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e9c653ac\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 1,\n  class: \"product-page\"\n};\nconst _hoisted_2 = [\"src\", \"alt\"];\nconst _hoisted_3 = {\n  class: \"product-page__card-content\"\n};\nconst _hoisted_4 = {\n  class: \"product-page__card-rating\"\n};\nconst _hoisted_5 = {\n  class: \"product-page__card-actions\"\n};\nconst _hoisted_6 = {\n  class: \"product-page__card-actions-buy\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Add to cart\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"Already is in your Cart\");\n\nconst _hoisted_9 = {\n  class: \"product-page__card-description\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"Description\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $setup.error?.isError && !$setup.isLoading ? (_openBlock(), _createBlock($setup[\"FailedHttpRequest\"], {\n    key: 0,\n    errorCode: $setup.error.errorCode,\n    errorMessage: $setup.error.message,\n    timeout: $setup.error.timeout,\n    serverIsDown: $setup.serverStatus.isDown,\n    serverErrorMessage: $setup.serverStatus.message\n  }, null, 8\n  /* PROPS */\n  , [\"errorCode\", \"errorMessage\", \"timeout\", \"serverIsDown\", \"serverErrorMessage\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.isLoading ? (_openBlock(), _createBlock($setup[\"Loader\"], {\n    key: 0\n  })) : (_openBlock(), _createBlock($setup[\"BaseCard\"], {\n    key: 1,\n    class: \"product-page__card\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"img\", {\n      src: $setup.product.image,\n      alt: $setup.product.title,\n      class: \"product-page__card-image\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createVNode($setup[\"BaseHeading\"], {\n      variant: \"h1\",\n      class: \"product-page__card-title\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.product.title), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode($setup[\"BaseDivider\"]), _createElementVNode(\"div\", _hoisted_4, [_createVNode($setup[\"StarRating\"], {\n      rating: $setup.product.rating.rate\n    }, null, 8\n    /* PROPS */\n    , [\"rating\"]), _createVNode($setup[\"BaseIconButton\"], {\n      onClick: $setup.like,\n      variant: \"contained\",\n      text: $setup.likeBtnText,\n      iconColor: \"lightgray\",\n      iconHoverColor: \"#ef2525\",\n      iconActiveColor: \"#ef2525\",\n      isActive: $setup.isProductLiked,\n      opacity: \"0.5\",\n      class: _normalizeClass($setup.likeClass)\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"LikeIcon\"])]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"text\", \"isActive\", \"class\"])]), _createElementVNode(\"div\", _hoisted_5, [_createVNode($setup[\"BaseHeading\"], {\n      variant: \"h2\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"$\" + _toDisplayString($setup.product.price), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createElementVNode(\"div\", _hoisted_6, [!$setup.isProductAlreadyInCart ? (_openBlock(), _createBlock($setup[\"QuantityBlock\"], {\n      key: 0,\n      onDecrement: $setup.decrementQuantity,\n      onIncrement: $setup.incrementQuantity,\n      quantity: $setup.quantity\n    }, null, 8\n    /* PROPS */\n    , [\"onDecrement\", \"onIncrement\", \"quantity\"])) : _createCommentVNode(\"v-if\", true), !$setup.isProductAlreadyInCart ? (_openBlock(), _createBlock($setup[\"BaseButton\"], {\n      key: 1,\n      variant: \"contained\",\n      mode: \"success\",\n      onClick: $setup.addToCart\n    }, {\n      default: _withCtx(() => [_hoisted_7]),\n      _: 1\n      /* STABLE */\n\n    })) : (_openBlock(), _createBlock($setup[\"BaseButton\"], {\n      key: 2,\n      onClick: _cache[0] || (_cache[0] = $event => $setup.openModal('cart')),\n      variant: \"contained\",\n      mode: \"success\"\n    }, {\n      default: _withCtx(() => [_hoisted_8]),\n      _: 1\n      /* STABLE */\n\n    }))])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode($setup[\"BaseHeading\"], {\n      variant: \"h3\"\n    }, {\n      default: _withCtx(() => [_hoisted_10]),\n      _: 1\n      /* STABLE */\n\n    }), _createElementVNode(\"p\", null, _toDisplayString($setup.product.description), 1\n    /* TEXT */\n    )])])]),\n    _: 1\n    /* STABLE */\n\n  }))]));\n}","map":{"version":3,"mappings":"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","names":["class","$setup","isError","_createBlock","errorCode","errorMessage","message","timeout","serverIsDown","isDown","serverErrorMessage","_createElementBlock","key","_createElementVNode","src","image","alt","title","_createVNode","variant","rating","rate","onClick","text","iconColor","iconHoverColor","iconActiveColor","isActive","opacity","_toDisplayString","price","onDecrement","onIncrement","quantity","mode","description"],"sourceRoot":"","sources":["/Users/tamirlankarimov/Desktop/Vue_Project_ecommerce/e-commerce-app/src/pages/ProductPage.vue"],"sourcesContent":["<template>\n  <FailedHttpRequest\n    :errorCode=\"error.errorCode\"\n    :errorMessage=\"error.message\"\n    :timeout=\"error.timeout\"\n    :serverIsDown=\"serverStatus.isDown\"\n    :serverErrorMessage=\"serverStatus.message\"\n    v-if=\"error?.isError && !isLoading\"\n  />\n\n  <div class=\"product-page\" v-else>\n    <Loader v-if=\"isLoading\" />\n    <BaseCard class=\"product-page__card\" v-else>\n      <img\n        :src=\"product.image\"\n        :alt=\"product.title\"\n        class=\"product-page__card-image\"\n      />\n      <div class=\"product-page__card-content\">\n        <BaseHeading variant=\"h1\" class=\"product-page__card-title\"\n          >{{ product.title }}\n        </BaseHeading>\n\n        <BaseDivider />\n        <div class=\"product-page__card-rating\">\n          <StarRating :rating=\"product.rating.rate\" />\n\n          <BaseIconButton\n            @click=\"like\"\n            variant=\"contained\"\n            :text=\"likeBtnText\"\n            iconColor=\"lightgray\"\n            iconHoverColor=\"#ef2525\"\n            iconActiveColor=\"#ef2525\"\n            :isActive=\"isProductLiked\"\n            opacity=\"0.5\"\n            :class=\"likeClass\"\n          >\n            <LikeIcon />\n          </BaseIconButton>\n        </div>\n        <div class=\"product-page__card-actions\">\n          <BaseHeading variant=\"h2\">${{ product.price }}</BaseHeading>\n          <div class=\"product-page__card-actions-buy\">\n            <QuantityBlock\n              @decrement=\"decrementQuantity\"\n              @increment=\"incrementQuantity\"\n              :quantity=\"quantity\"\n              v-if=\"!isProductAlreadyInCart\"\n            />\n            <BaseButton\n              variant=\"contained\"\n              mode=\"success\"\n              @click=\"addToCart\"\n              v-if=\"!isProductAlreadyInCart\"\n              >Add to cart</BaseButton\n            >\n\n            <BaseButton\n              @click=\"openModal('cart')\"\n              variant=\"contained\"\n              mode=\"success\"\n              v-else\n              >Already is in your Cart</BaseButton\n            >\n          </div>\n        </div>\n        <div class=\"product-page__card-description\">\n          <BaseHeading variant=\"h3\">Description</BaseHeading>\n          <p>\n            {{ product.description }}\n          </p>\n        </div>\n      </div>\n    </BaseCard>\n  </div>\n</template>\n\n<script setup>\nimport BaseHeading from \"@/components/UI/BaseHeading.vue\";\nimport QuantityBlock from \"@/components/UI/QuantityBlock.vue\";\nimport BaseButton from \"@/components/UI/Buttons/BaseButton.vue\";\nimport BaseCard from \"@/components/UI/BaseCard.vue\";\nimport BaseDivider from \"@/components/UI/BaseDivider.vue\";\nimport StarRating from \"@/components/StarRating.vue\";\nimport Loader from \"@/components/UI/Loader.vue\";\nimport BaseIconButton from \"@/components/UI/Buttons/BaseIconButton.vue\";\nimport LikeIcon from \"@/components/icons/LikeIcon.vue\";\nimport FailedHttpRequest from \"@/components/FailedHttpRequest.vue\";\nimport { computed } from \"@vue/runtime-core\";\nimport { useRoute } from \"vue-router\";\nimport { useProductStore } from \"@/store/useProductStore\";\nimport { storeToRefs } from \"pinia\";\nimport { useLikeStore } from \"@/store/useLikeStore\";\nimport { useCartStore } from \"@/store/useCartStore\";\nimport { useCommonStore } from \"@/store/useCommonStore\";\nimport { useQuantity } from \"@/hooks/quantity.js\";\n\nconst route = useRoute();\nconst [quantity, incrementQuantity, decrementQuantity] = useQuantity();\n\nconst productStore = useProductStore();\nconst likeStore = useLikeStore();\nconst cartStore = useCartStore();\nconst commonStore = useCommonStore();\nconst { isLoading, error, serverStatus } = storeToRefs(productStore);\n\nconst product = computed(() => {\n  const thisProduct = productStore.product(route.params.id);\n  return {\n    ...thisProduct,\n    quantity: quantity.value,\n  };\n});\n\nconst isProductLiked = computed(\n  () => likeStore.likedProduct(product.value.id) !== undefined\n);\n\nconst likeBtnText = computed(() =>\n  isProductLiked.value ? \"In your wishlist\" : \"Add to wishlist\"\n);\n\nconst isProductAlreadyInCart = computed(\n  () => cartStore.productInCart(route.params.id) !== undefined\n);\n\nconst likeClass = computed(() => [\n  \"product-page__card-like\",\n  isProductLiked.value && \"product-page__card-like_active\",\n]);\n\nconst openModal = (modal) => {\n  commonStore.openModal(modal);\n};\n\nconst like = () => {\n  likeStore.handleLikes(product.value);\n};\n\nconst addToCart = () => {\n  cartStore.setProductToCart(product.value);\n  openModal(\"cart\");\n};\n</script>\n\n<style scoped>\n.product-page {\n  position: relative;\n}\n.product-page__card {\n  display: grid;\n  gap: 20px;\n}\n\n.product-page__card-title {\n  text-align: left;\n  font-size: 28px;\n  line-height: 34px;\n}\n\n.product-page__card-rating {\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n}\n\n.product-page__card-like {\n  display: flex;\n  align-items: center;\n}\n\n.product-page__card-like_active {\n  color: #ef2525;\n}\n\n.product-page__card-like:hover {\n  color: #ef2525;\n  fill: #ef2525;\n}\n\n.product-page__card-image {\n  display: block;\n  width: 100%;\n}\n\n.product-page__card-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 24px;\n}\n\n.product-page__card-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n}\n\n.product-page__card-actions-buy {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n}\n\n.product-page__card-description {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  text-align: left;\n}\n\n@media screen and (min-width: 768px) {\n  .product-page__card {\n    padding: 30px;\n    grid-template-columns: 1fr 1fr;\n    gap: 24px;\n  }\n\n  .product-page__card-content {\n    align-items: flex-start;\n  }\n\n  .product-page__card-title {\n    font-size: 36px;\n    line-height: 40px;\n  }\n\n  .product-page__card-actions {\n    align-items: flex-start;\n  }\n\n  .product-page__card-actions-buy {\n    flex-direction: row;\n  }\n}\n\n@media screen and (min-width: 1024px) {\n  .product-page__card-image {\n    max-width: 600px;\n    max-height: 600px;\n    object-fit: contain;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}